\begin{naloga}{Gabrovšek, Konvalinka}{Kolokvij OR 24.1.2011}
\begin{vprasanje}
Danih imamo $n$ kock, ki jih želimo zložiti v čim višji stolp.
Dimenzije $i$-te kocke so $a_i \times b_i \times c_i$,
kjer je $a_i$ dolžina, $b_i$ širina in $c_i$ višina.
Kock ne smemo rotirati,
kocko $i$ pa lahko postavimo na kocko $j$ samo,
če je $a_i < a_j$ in $b_i < b_j$.
Brez škode za splošnost lahko predpostavimo,
da je $a_1 \ge a_2 \ge \dots \ge a_n$.
S pomočjo dinamičnega programiranja poišči najvišji možni stolp.

Kako bi nalogo rešil, če je dovoljena tudi rotacija kock?
\end{vprasanje}

\begin{odgovor}
Naj bo $v_i$ višina najvišjega stolpa, v katerem je na vrhu $i$-ta kocka.
Zapišimo začetne pogoje in rekurzivne enačbe.
\begin{align*}
a_0 &= b_0 = \infty \\
v_0 &= 0 \\
v_i &= \max\set{v_j + c_i}{0 \le j \le i-1, a_i < a_j, b_i < b_j}
\quad (1 \le i \le n)
\end{align*}
Vrednosti $v_i$ računamo naraščajoče po indeksu $i$ $(1 \le i \le n)$.
Največjo višino dobimo kot $v^* = \max\set{v_i}{1 \le i \le n}$.

\medskip

V primeru, ko dovolimo rotacije,
bomo uvedli spremenljivke $x_i, y_i, z_i$ za višine najvišjega stolpa,
kjer je na vrhu $i$-ta kocka zarotirana tako,
da je njena višina $a_i$, $b_i$ oziroma $c_i$.
Zapišimo začetne pogoje in rekurzivne enačbe še za ta primer.
\begin{alignat*}{3}
a_0 &=&{} b_0 = c_0 &= \infty \\
x_0 &=&{} y_0 = z_0 &= 0 \\
x_i &=&{} \max
  \big(&{} \set{x_j + a_i}{0 \le j \le i-1, \{b_i, c_i\} < \{b_j, c_j\}} \\
&&\cup &{} \set{y_j + a_i}{0 \le j \le i-1, \{b_i, c_i\} < \{a_j, c_j\}} \\
&&\cup &{} \set{z_j + a_i}{0 \le j \le i-1, \{b_i, c_i\} < \{a_j, b_j\}}\big)
&&\quad (1 \le i \le n) \\
y_i &=&{} \max
  \big(&{} \set{x_j + b_i}{0 \le j \le i-1, \{a_i, c_i\} < \{b_j, c_j\}} \\
&&\cup &{} \set{y_j + b_i}{0 \le j \le i-1, \{a_i, c_i\} < \{a_j, c_j\}} \\
&&\cup &{} \set{z_j + b_i}{0 \le j \le i-1, \{a_i, c_i\} < \{a_j, b_j\}}\big)
&&\quad (1 \le i \le n) \\
z_i &=&{} \max
  \big(&{} \set{x_j + c_i}{0 \le j \le i-1, \{a_i, b_i\} < \{b_j, c_j\}} \\
&&\cup &{} \set{y_j + c_i}{0 \le j \le i-1, \{a_i, b_i\} < \{a_j, c_j\}} \\
&&\cup &{} \set{z_j + c_i}{0 \le j \le i-1, \{a_i, b_i\} < \{a_j, b_j\}}\big)
&&\quad (1 \le i \le n)
\end{alignat*}
Tukaj definiramo primerjavo množic kot
$$
A < B \ \Leftrightarrow \ \min(A) < \min(B) \land \max(A) < \max(B) .
$$
Vrednosti $x_i, y_i, z_i$ računamo naraščajoče po indeksu $i$ $(1 \le i \le n)$.
Največjo višino dobimo kot $x^* = \max\set{x_i, y_i, z_i}{1 \le i \le n}$.
\end{odgovor}
\end{naloga}
